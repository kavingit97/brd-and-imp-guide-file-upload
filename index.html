<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clickable Component Detection</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .output-section { position: relative; }
        .spinner { display: none; }
        .rectangle { position: absolute; border: 2px solid red; pointer-events: none; } /* Disable pointer events */
    </style>
</head>
<body>

<h1>Image Upload and Detection</h1>
<form id="inputForm">
    <input type="file" id="fileInput" accept="image/*" required>
    <button type="submit">Process</button>
    <div class="spinner" id="spinner">Loading...</div>
</form>

<div class="output-section" id="outputSection"></div>

<script>
    document.getElementById('inputForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const fileInput = document.getElementById('fileInput').files[0];
        const reader = new FileReader();
        const outputSection = document.getElementById('outputSection');
        outputSection.innerHTML = ''; // Clear previous output
        const spinner = document.getElementById('spinner');
        spinner.style.display = 'block';

        reader.onload = function(e) {
            const imgElement = document.createElement('img');
            imgElement.src = e.target.result;
            imgElement.style.maxWidth = '100%'; // Adjust the size to fit within the container
            imgElement.style.height = 'auto';
            outputSection.appendChild(imgElement);

            imgElement.onload = function() {
                // Hardcoding likely clickable component positions based on typical UI layouts
                const width = imgElement.width;
                const height = imgElement.height;

                // Example clickable areas based on common layout
                const clickableElements = [
                    { class: 'Button', x: width * 0.1, y: height * 0.6, width: width * 0.25, height: height * 0.08 }, // Simulated button
                    { class: 'Link', x: width * 0.5, y: height * 0.4, width: width * 0.2, height: height * 0.05 },  // Simulated link
                    { class: 'Input Field', x: width * 0.75, y: height * 0.8, width: width * 0.2, height: height * 0.05 } // Simulated input field
                ];

                // Draw rectangles based on hardcoded positions
                clickableElements.forEach(element => {
                    drawRectangle(outputSection, element.x, element.y, element.width, element.height);
                });

                spinner.style.display = 'none'; // Hide spinner
            };
        };

        reader.readAsDataURL(fileInput); // Read the image file
    });

    function drawRectangle(outputDiv, x, y, width, height) {
        const rect = document.createElement('div');
        rect.className = 'rectangle';
        rect.style.left = `${x}px`; // Adjust to image position
        rect.style.top = `${y}px`;
        rect.style.width = `${width}px`;
        rect.style.height = `${height}px`;

        // Append the rectangle to the output div
        outputDiv.appendChild(rect);
    }
</script>

</body>
</html>
